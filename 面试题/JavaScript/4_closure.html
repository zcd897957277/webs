<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <title>Document</title>
  <style>
  
  </style>
 </head>
 <body>
  <script>
  /*
    function fun(n,o){
      console.log(o);
      return {
        fun:function(m){
          return fun(m,n);
        }
      }
    }

    var a=fun(0); a.fun(1); a.fun(2); a.fun(3);
      //undefined    0         0         0
    var b=fun(0).fun(1).fun(2).fun(3);
      //undefined   0     1      2
    var c=fun(0).fun(1); c.fun(2); c.fun(3);
      //undefined   0     1           1
  */
    var o=(function(){
      var person={
        name:"zhang",
        age:24
      };
      return {
        fun:function(k){
          return person[k];
        }
      }
    })();//不改变以上代码，获得person对象
    //访问器属性: 
    Object.defineProperty(
      Object.prototype,"self",{
        get: function(){return this;}
      }
    );
    var person=o.fun("self");
    console.dir(person);
    /*o: {
      fun:function(k){
        (var person={name:"zhang",age:24})
        return person[k];
      }
    }*/
    
  </script>
 </body>
</html>
