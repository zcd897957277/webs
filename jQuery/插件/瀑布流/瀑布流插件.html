<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>masonry-docs瀑布流</title>
<style>
	*{
		margin:0;
		padding:0;	
	}
	#colorBlock>div>span{
		cursor:pointer;	
	}
	#colorBlock>div{
		text-align:right;
		display:inline-block;	
	}
</style>
</head>

<body>
<button id="btn">添加随机色块</button>
<button id="btn1">合成</button>
<div id="colorBlock"></div>
<script src="js/jquery-1.11.3.js"></script>
<script src="jQueryPlugins/masonry-docs/masonry.pkgd.js"></script>
<script>
	$('#btn').click(function(){
		var r=Math.floor(Math.random()*100);
		var g=Math.floor(Math.random()*100);
		var p=$('<div><span>&times;</span></div>');
		$(p).css({
			background:rc(),
			width:r,
			height:g,
		});
		$('#colorBlock').append(p);
		$('span').click(function(){
			$(this).parent().remove();	
		});
	});
	function rc(){
		var r=Math.floor(Math.random()*256);
		var g=Math.floor(Math.random()*256);
		var b=Math.floor(Math.random()*256);
		return `rgb(${r},${g},${b})`;//没错，有效果
	}
	$('#btn1').click(function(){
		$('#colorBlock>div').masonry({});
	})
</script>
</body>
</html>
